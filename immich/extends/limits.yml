services:
  postgres:
    deploy:
      resources:
        limits:
          memory: 1G

  redis:
    deploy:
      resources:
        limits:
          memory: 1G

  api:
    deploy:
      resources:
        limits:
          memory: 500M

  workers:
    deploy:
      resources:
        limits:
          memory: 2G

  ml:
    deploy:
      resources:
        limits:
          memory: 1G